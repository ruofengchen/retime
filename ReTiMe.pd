#N canvas 629 133 672 312 10;
#N canvas 591 348 547 387 matrices 0;
#X obj 72 200 iemmatrix/mtx_print;
#X obj 72 72 loadbang;
#X msg 72 146 read prior.mtx;
#X obj 238 202 iemmatrix/mtx_print;
#X msg 238 149 read predict.mtx;
#X obj 238 180 iemmatrix/matrix predict.mtx;
#X obj 72 178 iemmatrix/matrix prior.mtx;
#X obj 224 83 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 5 109 row \$1;
#X connect 1 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X connect 8 0 6 0;
#X restore 564 21 pd matrices;
#N canvas 621 77 515 540 audio-in 0;
#X obj 39 23 adc~ 1;
#N canvas 51 45 486 606 pitch-detection 0;
#X obj 63 105 fiddle~ 1024 1 20;
#X obj 63 176 int;
#X obj 63 149 + 0.4999;
#X obj 63 44 inlet~;
#X obj 48 330 t b f;
#X obj 48 392 list prepend;
#X obj 117 363 list prepend;
#X obj 293 152 r \$0-beatdur;
#X floatatom 293 196 5 0 0 0 - - -;
#X obj 48 297 f;
#X obj 212 232 metro;
#X obj 27 494 outlet;
#X obj 27 456 list;
#X floatatom 95 296 5 0 0 0 - - -;
#X obj 63 225 % 12;
#X obj 63 247 + 1;
#X obj 212 145 r \$0-play;
#X obj 222 258 r \$0-end-measure;
#X floatatom 2 306 5 0 0 0 - - -;
#X obj 222 319 t b b b;
#X obj 293 174 / 16;
#X obj 146 321 outlet;
#X obj 252 366 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 146 280 f;
#X obj 222 288 t b b;
#X obj 284 290 f;
#X obj 284 318 outlet;
#X connect 0 0 2 0;
#X connect 1 0 14 0;
#X connect 1 0 23 1;
#X connect 1 0 25 1;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 6 1;
#X connect 5 0 12 1;
#X connect 6 0 5 1;
#X connect 7 0 20 0;
#X connect 9 0 4 0;
#X connect 10 0 9 0;
#X connect 10 0 23 0;
#X connect 12 0 11 0;
#X connect 14 0 15 0;
#X connect 15 0 9 1;
#X connect 15 0 13 0;
#X connect 16 0 10 0;
#X connect 17 0 24 0;
#X connect 18 0 4 0;
#X connect 19 0 5 1;
#X connect 19 1 6 1;
#X connect 19 2 12 0;
#X connect 20 0 8 0;
#X connect 20 0 10 1;
#X connect 23 0 21 0;
#X connect 24 0 19 0;
#X connect 24 1 25 0;
#X connect 25 0 26 0;
#X restore 39 79 pd pitch-detection;
#N canvas 165 22 591 902 pitch-histogram 0;
#X obj 35 18 inlet;
#X obj -11 652 tabwrite pitch-histogram;
#X obj 313 536 table pitch-histogram 12;
#X obj 35 51 t b l;
#X obj 35 89 until;
#X obj 35 116 list append;
#X obj 35 147 list split 1;
#X obj 35 174 route 1 2 3 4 5 6 7 8 9 10 11 12;
#N canvas 364 419 261 193 count 0;
#X obj 43 33 inlet;
#X obj 43 72 f;
#X obj 74 72 + 1;
#X obj 28 151 outlet;
#X obj 28 111 f;
#X obj -29 32 inlet;
#X msg -18 95 0;
#X obj -29 54 t b b;
#X obj 110 23 r \$0-play;
#X obj 110 45 sel 0;
#X obj 81 125 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 122 120 5 0 0 0 - - -;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 4 1;
#X connect 1 0 11 0;
#X connect 2 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 7 0;
#X connect 6 0 1 1;
#X connect 6 0 10 0;
#X connect 6 0 4 1;
#X connect 7 0 6 0;
#X connect 7 1 4 0;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X restore -10 210 pd count;
#X obj 214 -17 until;
#X obj 214 5 f;
#X obj 242 5 + 1;
#X obj 270 4 % 12;
#X obj 308 5 sel 12;
#X obj 211 109 t b f;
#X obj 137 103 t b b;
#N canvas 364 419 265 195 count 0;
#X obj 43 33 inlet;
#X obj 43 72 f;
#X obj 74 72 + 1;
#X obj 28 151 outlet;
#X obj 28 111 f;
#X obj -29 32 inlet;
#X msg -17 103 0;
#X obj -13 70 t b b;
#X obj 126 24 r \$0-play;
#X obj 126 46 sel 0;
#X obj 91 134 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 131 103 5 0 0 0 - - -;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 4 1;
#X connect 2 0 1 1;
#X connect 4 0 3 0;
#X connect 4 0 11 0;
#X connect 5 0 7 0;
#X connect 6 0 1 1;
#X connect 6 0 10 0;
#X connect 6 0 4 1;
#X connect 7 0 6 0;
#X connect 7 1 4 0;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X restore 4 242 pd count;
#X obj 229 145 t b f;
#X obj 243 167 t b f;
#X obj 257 188 t b f;
#X obj 272 209 t b f;
#X obj 286 229 t b f;
#X obj 300 249 t b f;
#N canvas 364 419 300 232 count 0;
#X obj 43 33 inlet;
#X obj 43 72 f;
#X obj 74 72 + 1;
#X obj 28 151 outlet;
#X obj 28 111 f;
#X obj -29 32 inlet;
#X obj 1 67 t b b;
#X msg 1 91 0;
#X obj 95 10 r \$0-play;
#X obj 95 32 sel 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 4 1;
#X connect 2 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 4 0;
#X connect 7 0 1 1;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 20 263 pd count;
#N canvas 364 419 270 178 count 0;
#X obj 43 33 inlet;
#X obj 43 72 f;
#X obj 74 72 + 1;
#X obj 28 151 outlet;
#X obj 28 111 f;
#X obj -29 32 inlet;
#X obj 1 67 t b b;
#X msg 1 91 0;
#X obj 112 24 r \$0-play;
#X obj 112 46 sel 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 4 1;
#X connect 2 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 4 0;
#X connect 7 0 1 1;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 36 286 pd count;
#N canvas 364 419 283 197 count 0;
#X obj 43 33 inlet;
#X obj 43 72 f;
#X obj 74 72 + 1;
#X obj 28 151 outlet;
#X obj 28 111 f;
#X obj -29 32 inlet;
#X obj 1 67 t b b;
#X msg 1 91 0;
#X obj 120 32 r \$0-play;
#X obj 120 54 sel 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 4 1;
#X connect 2 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 4 0;
#X connect 7 0 1 1;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 52 308 pd count;
#N canvas 364 419 418 211 count 0;
#X obj 43 33 inlet;
#X obj 43 72 f;
#X obj 74 72 + 1;
#X obj 28 151 outlet;
#X obj 28 111 f;
#X obj -29 32 inlet;
#X obj 1 67 t b b;
#X msg 1 91 0;
#X obj 145 29 r \$0-play;
#X obj 145 51 sel 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 4 1;
#X connect 2 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 4 0;
#X connect 7 0 1 1;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 67 330 pd count;
#N canvas 364 419 245 189 count 0;
#X obj 43 33 inlet;
#X obj 43 72 f;
#X obj 74 72 + 1;
#X obj 28 151 outlet;
#X obj 28 111 f;
#X obj -29 32 inlet;
#X obj 1 67 t b b;
#X msg 3 88 0;
#X obj 145 29 r \$0-play;
#X obj 145 51 sel 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 4 1;
#X connect 2 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 4 0;
#X connect 7 0 1 1;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 83 352 pd count;
#N canvas 364 419 239 188 count 0;
#X obj 43 33 inlet;
#X obj 43 72 f;
#X obj 74 72 + 1;
#X obj 28 151 outlet;
#X obj 28 111 f;
#X obj -29 32 inlet;
#X obj 1 67 t b b;
#X msg 1 91 0;
#X obj 145 29 r \$0-play;
#X obj 145 51 sel 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 4 1;
#X connect 2 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 4 0;
#X connect 7 0 1 1;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 99 374 pd count;
#N canvas 364 419 261 185 count 0;
#X obj 43 33 inlet;
#X obj 43 72 f;
#X obj 74 72 + 1;
#X obj 28 151 outlet;
#X obj 28 111 f;
#X obj -29 32 inlet;
#X obj 1 67 t b b;
#X msg 1 91 0;
#X obj 145 29 r \$0-play;
#X obj 140 56 sel 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 4 1;
#X connect 2 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 4 0;
#X connect 7 0 1 1;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 115 396 pd count;
#N canvas 364 419 270 187 count 0;
#X obj 43 33 inlet;
#X obj 43 72 f;
#X obj 74 72 + 1;
#X obj 28 151 outlet;
#X obj 28 111 f;
#X obj -29 32 inlet;
#X obj 1 67 t b b;
#X msg 1 91 0;
#X obj 145 29 r \$0-play;
#X obj 145 51 sel 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 4 1;
#X connect 2 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 4 0;
#X connect 7 0 1 1;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 130 418 pd count;
#N canvas 364 419 279 188 count 0;
#X obj 43 33 inlet;
#X obj 43 72 f;
#X obj 74 72 + 1;
#X obj 28 151 outlet;
#X obj 28 111 f;
#X obj -29 32 inlet;
#X obj 1 67 t b b;
#X msg 1 91 0;
#X obj 145 29 r \$0-play;
#X obj 145 51 sel 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 4 1;
#X connect 2 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 4 0;
#X connect 7 0 1 1;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 146 440 pd count;
#N canvas 364 419 274 183 count 0;
#X obj 43 33 inlet;
#X obj 43 72 f;
#X obj 74 72 + 1;
#X obj 28 151 outlet;
#X obj 28 111 f;
#X obj -29 32 inlet;
#X obj 1 67 t b b;
#X msg 1 91 0;
#X obj 145 29 r \$0-play;
#X obj 145 51 sel 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 4 1;
#X connect 2 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 4 0;
#X connect 7 0 1 1;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 162 462 pd count;
#X obj 314 273 t b f;
#X obj 329 294 t b f;
#X obj 343 315 t b f;
#X obj 357 335 t b f;
#X obj 371 355 t b f;
#X obj 214 74 route 0 1 2 3 4 5 6 7 8 9 10 11;
#X obj 214 50 pack f f;
#X obj 214 27 t f f;
#X obj 310 581 table hist1 12;
#X obj 310 602 table hist2 12;
#X obj 310 624 table hist3 12;
#N canvas 718 36 671 592 route-histograms 0;
#X obj 63 39 inlet;
#X obj 120 39 inlet;
#X obj 63 164 pack f f f;
#X obj 63 129 f;
#X obj 63 71 t b f;
#X obj 63 219 route 1 2 3;
#X obj 63 268 unpack f f;
#X obj 162 273 unpack f f;
#X obj 260 274 unpack f f;
#X obj 63 353 tabwrite hist1;
#X obj 162 342 tabwrite hist2;
#X obj 260 346 tabwrite hist3;
#X obj 168 38 r \$0-previous-measure;
#X connect 0 0 4 0;
#X connect 1 0 2 2;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 4 1 2 1;
#X connect 5 0 6 0;
#X connect 5 1 7 0;
#X connect 5 2 8 0;
#X connect 6 0 9 0;
#X connect 6 1 9 1;
#X connect 7 0 10 0;
#X connect 7 1 10 1;
#X connect 8 0 11 0;
#X connect 8 1 11 1;
#X connect 12 0 3 1;
#X restore -10 600 pd route-histograms;
#X connect 0 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 5 1;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 5 1;
#X connect 6 2 15 0;
#X connect 7 0 8 1;
#X connect 7 1 16 1;
#X connect 7 2 23 1;
#X connect 7 3 24 1;
#X connect 7 4 25 1;
#X connect 7 5 26 1;
#X connect 7 6 27 1;
#X connect 7 7 28 1;
#X connect 7 8 29 1;
#X connect 7 9 30 1;
#X connect 7 10 31 1;
#X connect 7 11 32 1;
#X connect 8 0 44 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 10 0 40 0;
#X connect 11 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 10 1;
#X connect 13 0 9 1;
#X connect 14 0 8 0;
#X connect 14 1 44 1;
#X connect 15 0 9 0;
#X connect 15 1 4 1;
#X connect 16 0 44 0;
#X connect 17 0 16 0;
#X connect 17 1 44 1;
#X connect 18 0 23 0;
#X connect 18 1 44 1;
#X connect 19 0 24 0;
#X connect 19 1 44 1;
#X connect 20 0 25 0;
#X connect 20 1 44 1;
#X connect 21 0 26 0;
#X connect 21 1 44 1;
#X connect 22 0 27 0;
#X connect 22 1 44 1;
#X connect 23 0 44 0;
#X connect 24 0 44 0;
#X connect 25 0 44 0;
#X connect 26 0 44 0;
#X connect 27 0 44 0;
#X connect 28 0 44 0;
#X connect 29 0 44 0;
#X connect 30 0 44 0;
#X connect 31 0 44 0;
#X connect 32 0 44 0;
#X connect 33 0 28 0;
#X connect 33 1 44 1;
#X connect 34 0 29 0;
#X connect 34 1 44 1;
#X connect 35 0 30 0;
#X connect 35 1 44 1;
#X connect 36 0 31 0;
#X connect 36 1 44 1;
#X connect 37 0 32 0;
#X connect 37 1 44 1;
#X connect 38 0 14 0;
#X connect 38 1 17 0;
#X connect 38 2 18 0;
#X connect 38 3 19 0;
#X connect 38 4 20 0;
#X connect 38 5 21 0;
#X connect 38 6 22 0;
#X connect 38 7 33 0;
#X connect 38 8 34 0;
#X connect 38 9 35 0;
#X connect 38 10 36 0;
#X connect 38 11 37 0;
#X connect 39 0 38 0;
#X connect 40 0 39 0;
#X connect 40 1 39 1;
#X restore 39 149 pd pitch-histogram;
#X obj 185 148 gen_markov_models;
#X obj 284 60 r \$0-play;
#X obj 284 98 sel 1;
#X obj 207 189 print probs;
#N canvas 0 22 493 393 write-to-hist 0;
#X obj 46 304 tabwrite temp_hist;
#X obj 46 236 list split 1;
#X obj 46 130 until;
#X obj 46 191 list append;
#X obj 46 74 t b l;
#X obj 176 236 bang;
#X obj 46 159 t b b;
#X obj 136 138 f;
#X obj 162 138 + 1;
#X obj 191 138 % 12;
#X obj 46 32 inlet;
#X connect 1 0 0 0;
#X connect 1 1 3 1;
#X connect 1 2 5 0;
#X connect 2 0 6 0;
#X connect 3 0 1 0;
#X connect 4 0 2 0;
#X connect 4 1 3 1;
#X connect 5 0 2 1;
#X connect 6 0 3 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 7 0 0 1;
#X connect 8 0 9 0;
#X connect 9 0 7 1;
#X connect 10 0 4 0;
#X restore 185 223 pd write-to-hist;
#X obj 218 35 r note-predict;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 1 2 3 3;
#X connect 3 0 6 0;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 3 2;
#X connect 8 0 3 1;
#X restore 564 42 pd audio-in;
#N canvas 289 155 612 546 midi 0;
#X obj 77 41 r \$0-chord-trig;
#X obj 65 413 noteout 1;
#X obj 166 414 noteout 1;
#X obj 297 411 noteout 1;
#N canvas 160 22 736 477 chord-note-map 0;
#X obj 49 20 inlet;
#X obj 49 64 sel 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20
21 22;
#X obj 429 64 sel 23 24;
#N canvas 491 340 450 300 make-triad-major 0;
#X obj 57 26 inlet;
#X obj 57 88 t f f f;
#X obj 57 165 outlet;
#X obj 112 140 + 4;
#X obj 112 162 outlet;
#X obj 167 142 + 7;
#X obj 167 164 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 1 2 5 0;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X restore -53 161 pd make-triad-major;
#N canvas 491 340 450 300 make-triad-minor 0;
#X obj 57 26 inlet;
#X obj 57 88 t f f f;
#X obj 57 165 outlet;
#X obj 112 162 outlet;
#X obj 167 142 + 7;
#X obj 167 164 outlet;
#X obj 112 140 + 3;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 6 0;
#X connect 1 2 4 0;
#X connect 4 0 5 0;
#X connect 6 0 3 0;
#X restore 243 168 pd make-triad-minor;
#X msg 243 119 48;
#X msg 266 118 49;
#X msg 290 119 50;
#X msg 314 118 51;
#X msg 341 118 52;
#X msg 364 117 53;
#X msg 388 118 54;
#X msg 412 117 55;
#X msg 436 117 56;
#X msg 459 116 57;
#X msg 483 117 58;
#X msg 507 116 59;
#X msg -52 120 48;
#X msg -29 119 49;
#X msg -5 120 50;
#X msg 19 119 51;
#X msg 46 119 52;
#X msg 69 118 53;
#X msg 93 119 54;
#X msg 117 118 55;
#X msg 141 118 56;
#X msg 164 117 57;
#X msg 188 118 58;
#X msg 212 117 59;
#X obj -41 291 outlet;
#X obj 31 295 outlet;
#X obj 120 296 outlet;
#X connect 0 0 1 0;
#X connect 1 0 17 0;
#X connect 1 1 18 0;
#X connect 1 2 19 0;
#X connect 1 3 20 0;
#X connect 1 4 21 0;
#X connect 1 5 22 0;
#X connect 1 6 23 0;
#X connect 1 7 24 0;
#X connect 1 8 25 0;
#X connect 1 9 26 0;
#X connect 1 10 27 0;
#X connect 1 11 28 0;
#X connect 1 12 5 0;
#X connect 1 13 6 0;
#X connect 1 14 7 0;
#X connect 1 15 8 0;
#X connect 1 16 9 0;
#X connect 1 17 10 0;
#X connect 1 18 11 0;
#X connect 1 19 12 0;
#X connect 1 20 13 0;
#X connect 1 21 14 0;
#X connect 1 22 2 0;
#X connect 2 0 15 0;
#X connect 2 1 16 0;
#X connect 3 0 29 0;
#X connect 3 1 30 0;
#X connect 3 2 31 0;
#X connect 4 0 29 0;
#X connect 4 1 30 0;
#X connect 4 2 31 0;
#X connect 5 0 4 0;
#X connect 6 0 4 0;
#X connect 7 0 4 0;
#X connect 8 0 4 0;
#X connect 9 0 4 0;
#X connect 10 0 4 0;
#X connect 11 0 4 0;
#X connect 12 0 4 0;
#X connect 13 0 4 0;
#X connect 14 0 4 0;
#X connect 15 0 4 0;
#X connect 16 0 4 0;
#X connect 17 0 3 0;
#X connect 18 0 3 0;
#X connect 19 0 3 0;
#X connect 20 0 3 0;
#X connect 21 0 3 0;
#X connect 22 0 3 0;
#X connect 23 0 3 0;
#X connect 24 0 3 0;
#X connect 25 0 3 0;
#X connect 26 0 3 0;
#X connect 27 0 3 0;
#X connect 28 0 3 0;
#X restore 77 247 pd chord-note-map;
#X floatatom 102 96 5 0 0 0 - - -;
#X obj 26 347 makenote 100 3000;
#X obj 148 345 makenote 100 3000;
#X obj 294 337 makenote 100 3000;
#X obj 340 178 makenote 100 250;
#X obj 339 83 list append;
#X obj 339 115 list split 1;
#X floatatom 335 149 5 0 0 0 - - -;
#X obj 235 20 metro 250;
#X obj 249 -11 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 332 -12 loadbang;
#X obj 472 139 sel 72;
#X obj 453 245 s \$0-scale-stop;
#X obj 235 -39 r \$0-play-scale;
#X msg 454 219 0;
#X obj 471 179 del 25;
#X msg 339 30 60 60 62 64 65 67 69 71 72;
#X connect 0 0 4 0;
#X connect 0 0 5 0;
#X connect 4 0 6 0;
#X connect 4 1 7 0;
#X connect 4 2 8 0;
#X connect 6 0 1 0;
#X connect 6 1 1 1;
#X connect 7 0 2 0;
#X connect 7 1 2 1;
#X connect 8 0 3 0;
#X connect 8 1 3 1;
#X connect 9 0 3 0;
#X connect 9 1 3 1;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 11 0 16 0;
#X connect 11 1 10 1;
#X connect 12 0 9 0;
#X connect 13 0 10 0;
#X connect 15 0 21 0;
#X connect 16 0 20 0;
#X connect 18 0 13 0;
#X connect 18 0 14 0;
#X connect 19 0 17 0;
#X connect 20 0 19 0;
#X connect 20 0 21 0;
#X connect 21 0 10 0;
#X restore 564 63 pd midi;
#N canvas 637 152 643 586 metronome 0;
#X obj 167 52 t b f;
#X obj 167 113 /;
#X msg 167 81 60000;
#X obj 140 282 metro;
#X obj 140 256 t f b;
#X obj 167 19 r \$0-bpm;
#X obj 402 59 r \$0-measures;
#X obj 421 219 f;
#X obj 369 240 f;
#X obj 369 262 *;
#X floatatom 369 313 5 0 0 0 - - -;
#X obj 402 81 t b b f;
#X obj 369 189 t b b f;
#X obj 369 291 * 4;
#X obj 369 344 s \$0-record-length;
#X obj 96 115 r \$0-play;
#N canvas 739 362 442 318 metro-sound 0;
#X obj 43 22 inlet;
#X obj 149 23 inlet;
#X obj 43 186 line~;
#X obj -62 205 *~;
#X obj 43 208 *~;
#X obj 43 61 t b b b;
#X obj 134 87 f;
#X obj 162 87 + 1;
#X obj 134 109 sel 0;
#X msg 134 148 1;
#X obj -62 139 noise~;
#X msg 85 169 0 1;
#X msg 43 150 1 1;
#X obj 85 147 del 10;
#X msg 149 59 0;
#X obj -62 278 throw~ metronome;
#X obj 189 88 % 4;
#X msg 162 148 0.4;
#X obj -15 86 s \$0-tick;
#X connect 0 0 5 0;
#X connect 0 0 18 0;
#X connect 1 0 14 0;
#X connect 2 0 4 0;
#X connect 3 0 15 0;
#X connect 4 0 3 1;
#X connect 5 0 12 0;
#X connect 5 1 13 0;
#X connect 5 2 6 0;
#X connect 6 0 7 0;
#X connect 6 0 8 0;
#X connect 7 0 16 0;
#X connect 8 0 9 0;
#X connect 8 1 17 0;
#X connect 9 0 4 1;
#X connect 10 0 3 0;
#X connect 11 0 2 0;
#X connect 12 0 2 0;
#X connect 13 0 11 0;
#X connect 14 0 6 1;
#X connect 16 0 6 1;
#X connect 17 0 4 1;
#X restore 167 333 pd metro-sound;
#N canvas 102 179 644 512 measure-count 0;
#X obj 58 17 inlet;
#X obj 58 64 f;
#X obj 87 64 + 1;
#X obj 118 65 % 4;
#X obj 178 287 f;
#X obj 204 287 + 1;
#X obj 58 91 sel 0;
#X obj 59 318 s \$0-end-measure;
#X floatatom 111 35 5 0 0 0 - - -;
#X msg 109 9 0;
#X obj 213 44 r \$0-play;
#X obj 213 70 sel 0;
#X obj 178 329 s \$0-current-measure;
#X obj 59 279 t b b;
#X msg 213 92 1;
#X obj 353 303 - 1;
#X obj 353 327 s \$0-previous-measure;
#X obj 116 145 f;
#X obj 142 145 + 1;
#X obj 59 227 spigot;
#X obj 58 121 t b b;
#X floatatom 176 147 5 0 0 0 - - -;
#X obj 116 179 > 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 8 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 4 0 5 0;
#X connect 4 0 12 0;
#X connect 4 0 15 0;
#X connect 5 0 4 1;
#X connect 6 0 20 0;
#X connect 9 0 1 1;
#X connect 9 0 17 1;
#X connect 9 0 12 0;
#X connect 10 0 11 0;
#X connect 11 0 9 0;
#X connect 11 0 14 0;
#X connect 13 0 7 0;
#X connect 13 1 4 0;
#X connect 14 0 4 1;
#X connect 15 0 16 0;
#X connect 17 0 18 0;
#X connect 17 0 21 0;
#X connect 17 0 22 0;
#X connect 18 0 17 1;
#X connect 19 0 13 0;
#X connect 20 0 19 0;
#X connect 20 1 17 0;
#X connect 22 0 19 1;
#X restore 153 400 pd measure-count;
#X obj 140 304 t b b;
#X obj 194 177 s \$0-beatdur;
#X connect 0 0 2 0;
#X connect 0 1 1 1;
#X connect 1 0 3 1;
#X connect 1 0 19 0;
#X connect 2 0 1 0;
#X connect 3 0 18 0;
#X connect 4 0 3 0;
#X connect 4 1 16 1;
#X connect 5 0 0 0;
#X connect 6 0 11 0;
#X connect 7 0 9 1;
#X connect 8 0 9 0;
#X connect 9 0 13 0;
#X connect 11 0 8 0;
#X connect 11 1 7 0;
#X connect 11 2 7 1;
#X connect 12 0 8 0;
#X connect 12 1 7 0;
#X connect 12 2 8 1;
#X connect 13 0 10 0;
#X connect 13 0 14 0;
#X connect 15 0 4 0;
#X connect 18 0 17 0;
#X connect 18 1 16 0;
#X restore 564 102 pd metronome;
#N canvas 398 92 254 285 output 0;
#X obj -63 41 catch~ metronome;
#X obj -78 169 +~;
#X obj -78 212 dac~;
#X obj -63 137 *~ 0.9;
#X obj 6 97 r \$0-metro-vol;
#X obj 6 125 dbtorms;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 1 0 2 1;
#X connect 3 0 1 1;
#X connect 4 0 5 0;
#X connect 5 0 3 1;
#X restore 564 122 pd output;
#X obj 420 83 vsl 40 128 75 120 0 1 \$0-metro-vol empty Metronome_Volume
-40 -11 0 18 -262130 -1 -1 2400 1;
#X obj 106 78 nbx 5 25 -1e+37 1e+37 0 1 \$0-bpm \$0-init BPM 0 -10
0 18 -262144 -1 -1 80 256;
#X obj 45 79 tgl 50 0 \$0-play empty Play 0 -10 0 18 -204786 -1 -1
1 1;
#N canvas 149 55 733 740 find-chords 0;
#X obj 108 230 first_chords;
#X floatatom 108 266 5 0 0 0 - - -;
#X floatatom 131 278 5 0 0 0 - - -;
#X floatatom 154 298 5 0 0 0 - - -;
#X obj 43 13 r \$0-current-measure;
#N canvas 731 160 319 315 queue 0;
#X obj 71 47 inlet;
#X obj -59 252 outlet;
#X obj -59 48 inlet;
#X obj -59 147 list prepend;
#X obj -24 102 list split 1;
#X obj 49 167 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 3 1;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 3 0 4 0;
#X connect 4 1 3 1;
#X connect 5 0 3 1;
#X restore 132 536 pd queue;
#X obj 100 354 next_chord;
#X obj 323 102 table temp_hist 12;
#X obj 311 14 loadbang;
#X msg 311 52 \; temp_hist read hist1.txt;
#X obj 45 119 t b b b;
#X obj 64 179 s note-predict;
#X obj 100 433 t f f;
#X obj 101 674 s \$0-chord-trig;
#X obj 132 574 unpack f f f f;
#X obj 106 120 t b b;
#X floatatom 154 614 5 0 0 0 - - -;
#X floatatom 191 617 5 0 0 0 - - -;
#X floatatom 230 617 5 0 0 0 - - -;
#X obj 234 553 print chords;
#X obj 196 307 list split 3;
#X obj 81 291 t b f;
#X obj 43 73 sel 0 1 2 3 4;
#X obj 17 320 del 25;
#X obj 44 245 del 25;
#X obj 365 556 textfile;
#X obj 375 272 r \$0-play;
#X obj 375 304 sel 0;
#X obj 396 346 del 100;
#X obj 396 369 bang;
#X msg 446 426 clear;
#X msg 329 413 add \$1 \$2 \$3;
#X msg 348 481 add \$1;
#X msg 375 523 write chords.txt;
#X obj 32 408 print next_chord;
#X connect 0 0 21 0;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 0 2 3 0;
#X connect 0 3 20 0;
#X connect 1 0 6 1;
#X connect 2 0 6 2;
#X connect 3 0 6 3;
#X connect 4 0 22 0;
#X connect 5 0 14 0;
#X connect 5 0 19 0;
#X connect 6 1 32 0;
#X connect 6 1 12 0;
#X connect 8 0 9 0;
#X connect 10 1 11 0;
#X connect 10 2 0 0;
#X connect 12 0 13 0;
#X connect 12 1 5 0;
#X connect 14 1 6 1;
#X connect 14 1 16 0;
#X connect 14 2 6 2;
#X connect 14 2 17 0;
#X connect 14 3 6 3;
#X connect 14 3 18 0;
#X connect 15 0 24 0;
#X connect 15 1 11 0;
#X connect 20 0 5 1;
#X connect 20 0 31 0;
#X connect 21 0 23 0;
#X connect 21 1 6 1;
#X connect 22 4 10 0;
#X connect 22 5 15 0;
#X connect 23 0 6 0;
#X connect 24 0 6 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 27 0 33 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 30 0 25 0;
#X connect 31 0 25 0;
#X connect 32 0 25 0;
#X connect 33 0 25 0;
#X restore 566 153 pd find-chords;
#X obj 45 167 tgl 50 0 \$0-play-scale \$0-scale-stop Play_Scale 0 -10
0 18 -232576 -1 -1 0 1;
#X obj 209 77 nbx 5 25 -1e+37 1e+37 0 1 empty \$0-current-measure Measure_Number
0 -10 0 18 -262144 -1 -1 23 256;
